<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Resume Builder â€” Login</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#0f4540; --bg2:#12c4b8; --card:#0f3b36; --accent:#08b89f;
    --white: #fff;
  }
  *{box-sizing:border-box;font-family:Poppins,system-ui,Arial;}
  body{min-height:100vh;margin:0;background:linear-gradient(90deg,var(--bg1),var(--bg2));display:flex;align-items:center;justify-content:center;padding:40px;color:var(--white);}
  .card{width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:44px;border-radius:12px;box-shadow:0 30px 50px rgba(0,0,0,0.35);display:flex;gap:40px;align-items:center}
  .left{flex:1;padding:24px}
  .title{font-weight:800;font-size:36px;margin:0 0 8px}
  .sub{opacity:.9;margin-bottom:20px}
  form{width:420px;margin-left:auto}
  label{display:block;font-size:12px;margin:14px 0 8px;letter-spacing:.6px;font-weight:600}
  input{width:100%;padding:16px 18px;border-radius:999px;border:none;outline:none;background:#fff;color:#333;font-weight:600}
  .btn-row{display:flex;gap:12px;margin-top:20px}
  .btn{padding:14px 26px;border-radius:999px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:linear-gradient(180deg,#05bdb0,#00a09a);color:#012;box-shadow:0 12px 24px rgba(6,90,84,0.25)}
  .btn-ghost{background:rgba(255,255,255,0.08);color:#fff;border:2px solid rgba(255,255,255,0.12)}
  .links{margin-top:18px;text-align:center}
  a.link{color:#eafef8;text-decoration:underline}
  @media (max-width:900px){.card{flex-direction:column;padding:32px}.left{display:none}form{width:100%}}
</style>
</head>
<body>
  <div class="card">
    <div class="left">
      <h1 class="title">Resume Builder</h1>
      <p class="sub">Sign up or log in to save your profile and build tailored resumes.</p>
      <!-- decorative illustration placeholder -->
      <div style="height:220px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;">
        <svg width="160" height="100" viewBox="0 0 160 100" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="160" height="100" rx="8" fill="#ffffff11"/><rect x="14" y="22" width="132" height="18" rx="6" fill="#05bdb01f"/><rect x="24" y="44" width="112" height="40" rx="8" fill="#ffffff08"/></svg>
      </div>
    </div>

    <form id="loginForm" aria-label="login form">
      <h2 style="margin:0 0 6px;font-weight:800;font-size:28px">Welcome back</h2>
      <p style="margin:0 0 18px;opacity:.9">Login to access your resume</p>

      <label for="email">Email</label>
      <input id="email" type="email" placeholder="you@domain.com" required />

      <label for="password">Password</label>
      <input id="password" type="password" placeholder="Choose a password" required />

      <div class="btn-row">
        <button type="submit" class="btn btn-primary">Log in</button>
        <button type="button" id="goSignup" class="btn btn-ghost">Sign up</button>
      </div>

      <div class="links">
        <a id="forgotBtn" class="link" href="#">Forgot password?</a>
      </div>
    </form>
  </div>

<script src="common.js"></script>
<script>
  // navigate helpers
  document.getElementById('goSignup').addEventListener('click', ()=> location.href='index.html');
  document.getElementById('forgotBtn').addEventListener('click', ()=> location.href='forgot.html');

  // if already logged in, go to home
  if (RB.isLoggedIn()) location.href = 'home.html';

  document.getElementById('loginForm').addEventListener('submit', (e)=>{
    e.preventDefault();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();
    if (!email || !password) return alert('Enter credentials.');

    // simple auth: if profile exists, accept; otherwise create a minimal saved user
    const existing = RB.loadUserProfile(email);
    RB.setLoggedIn(email);
    if (!existing) {
      RB.saveUserProfile(email, { full_name: '', phone:'', location:'', linkedin:'', created_at: new Date().toISOString() });
    }
    location.href = 'home.html';
  });
</script>
</body>
</html>
