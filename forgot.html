<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ResumeBuilder â€” Forgot</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&display=swap');
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;height:100vh;background:linear-gradient(120deg,#0f544d,#13c7b3);display:flex;align-items:center;justify-content:center;padding:24px;color:#fff}
    .card{width:min(880px,95%);background:transparent;padding:40px;border-radius:8px;text-align:center}
    h1{font-weight:900;font-size:64px;margin:0}
    p.lead{margin:6px 0 22px;font-weight:600;color:#e9f9f5}
    label{display:block;margin-top:8px;font-weight:700;letter-spacing:1px}
    input{width:70%;max-width:820px;padding:16px;border-radius:36px;border:none;margin-top:10px;display:block;margin-left:auto;margin-right:auto;background:#fff;color:#023;font-weight:700}
    .btn{margin-top:18px;padding:14px 36px;border-radius:36px;border:none;background:linear-gradient(180deg,#02d3c4,#00b9a7);color:#012;font-weight:900;cursor:pointer;box-shadow:0 14px 22px rgba(0,0,0,0.25)}
    a.link{display:block;margin-top:18px;color:#fff;text-decoration:underline;font-weight:800}
  </style>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
  <script src="common.js"></script>

  <div class="card">
    <h1>Forgot Password</h1>
    <p class="lead">New Password</p>

    <label for="fg-email">EMAIL</label>
    <input id="fg-email" type="email" placeholder="YOUR EMAIL ADDRESS" />

    <button id="btn-send" class="btn">SEND</button>

    <a class="link" href="login.html">Back to Login</a>
    <p id="msg" style="margin-top:12px;color:#fff;font-weight:700"></p>
  </div>

  <script>
    document.getElementById('btn-send').onclick = async () => {
      const email = document.getElementById('fg-email').value.trim();
      const msg = document.getElementById('msg');
      if(!email){ msg.textContent = 'Enter your email'; return; }
      msg.textContent = 'Sending reset email...';
      const { data, error } = await supabaseClient.auth.resetPasswordForEmail(email, { redirectTo: location.origin + '/login.html' });
      if (error) msg.textContent = 'Error: ' + error.message;
      else msg.textContent = 'If that email exists, a reset link was sent. Check inbox.';
    };
  </script>
</body>
</html>
